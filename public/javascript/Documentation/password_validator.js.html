<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: password_validator.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: password_validator.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Takes in a specific error message and then replaces part of a template error message with the
 * input and returns an error message which will be added to the list of errors with the inputted password.
 * @param {String} error - The specific error message type.
 * 
 * @returns {String} The newly created error message.
 */
function generateListElement(error) {
    var template = $("#errorListItem").html();
    var errorMsg = template.replace("error", error);

    return errorMsg;
}

/**
 * @class
 */
function PasswordScheme() {}

/**
 * Takes a string of all possible errors with the password and checks to see which parts of the password scheme are not matched.
 * Returns an boolean to indicate if there were errors or not.
 * @param {String} error - String containing all parts of the password scheme which are not matched.
 *
 * @returns {Boolean} True if there were no errors with the password, false otherwise.
 */
function generateErrorMsg(error) {
    var passwordScheme = PasswordScheme.scheme;
    var errorMsg = '';
    var errors = '';

    if (error.indexOf("length") != '-1') {
        errorMsg = "Password length is not greater than ";
        errorMsg = errorMsg + passwordScheme["length"] + ".";
        errors = errors + generateListElement(errorMsg);
    }

    if (error.indexOf("lowercase") != '-1') {
        errorMsg = "Password does not contain a lowercase letter.";
        errors = errors + generateListElement(errorMsg);
    }

    if (error.indexOf("uppercase") != '-1') {
        errorMsg = "Password does not contain an uppercase letter.";
        errors = errors + generateListElement(errorMsg);
    }

    if (error.indexOf("number") != '-1') {
        errorMsg = "Password does not contain a number.";
        errors = errors + generateListElement(errorMsg);
    }

    if (error.indexOf("special") != '-1') {
        errorMsg = "Password does not contain a special character";
        errors = errors + generateListElement(errorMsg);
    }

    if (errors === '') {
        document.getElementById('errors').innerHTML="";
        document.getElementById("errors").innerHTML=$("#successMsg").html();
        return true;
    } else {
        document.getElementById("errors").innerHTML="";
        var errorList = $("#errorList").html();
        errorList = errorList.replace("item", errors);
        document.getElementById("errors").innerHTML=errorList;
        return false;
    }
}

/**
 * Takes in a password string and checks if it matches the password scheme specified.
 * @param {String} password - The password inputted by the user.
 *
 * @returns {String} A string containing all setions of the password scheme which the password does not match with.
 */
function isValidPassword(password) {
    var passwordScheme = PasswordScheme.scheme;
    var errorMsg = '';

    if ("length" in passwordScheme) {
        if (password.length &lt; passwordScheme["length"]) {
            errorMsg += "length ";
        }
    }

    if ("lowercase" in passwordScheme) {
        if (password.toUpperCase() === password) {
            errorMsg += "lowercase ";
        }
    }

    if ("uppercase" in passwordScheme) {
        if (password.toLowerCase() === password) {
            errorMsg += "uppercase ";
        }
    }

    if ("number" in passwordScheme) {
        if (!/\d/.test(password)) {
            errorMsg += "number ";
        }
    }

    if ("special" in passwordScheme) {
        if (!/[!@#$%?]/.test(password)) {
            errorMsg += "special";
        }
    }
    return errorMsg;
}

/** 
 * Sets the specified password scheme
 * @memberOf PasswordScheme
 * @param {Array} passwordScheme - An array specifying each part of the password scheme
 */
function setPasswordScheme(passwordScheme) {
    PasswordScheme.scheme = passwordScheme;
}

/**
 * Retrieves the inputted information from the check boxs to be used for the password scheme
 *
 * @returns {Array} an array detailing the input for each check box
 */
function getSchemeFromCheckboxes() {
    var checkedBoxes = {};

    if ($("#lengthBox").is(":checked")) {
        checkedBoxes["length"] = Number($("#lengthval").val());
    }

    if ($("#lowercaseBox").is(":checked")) {
        checkedBoxes["lowercase"] = true;
    }

    if ($("#uppercaseBox").is(":checked")) {
        checkedBoxes["uppercase"] = true;
    }

    if ($("#numberBox").is(":checked")) {
        checkedBoxes["number"] = true;
    }

    if ($("#specialBox").is(":checked")) {
        checkedBoxes["special"] = true;
    }

    return checkedBoxes;
}

if (typeof module !== 'undefined' &amp;&amp; this.module !== module) {
    module.exports.setPasswordScheme = setPasswordScheme;
    module.exports.isValidPassword = isValidPassword;
}
else {
    $("#validate").click(function() {
        setPasswordScheme(getSchemeFromCheckboxes());
        var errors = isValidPassword($("#password").val());
        generateErrorMsg(errors);
    });
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="PasswordScheme.html">PasswordScheme</a></li></ul><h3>Global</h3><ul><li><a href="global.html#generateErrorMsg">generateErrorMsg</a></li><li><a href="global.html#generateListElement">generateListElement</a></li><li><a href="global.html#getSchemeFromCheckboxes">getSchemeFromCheckboxes</a></li><li><a href="global.html#isValidPassword">isValidPassword</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Mon Apr 24 2017 20:52:24 GMT-0700 (Pacific Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
