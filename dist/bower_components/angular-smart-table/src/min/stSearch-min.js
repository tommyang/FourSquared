ng.module("smart-table").directive("stSearch",["$timeout",function(e){return{require:"^stTable",scope:{predicate:"=?stSearch"},link:function(t,a,c,n){var r=n,i=null,u=c.stDelay||400;t.$watch("predicate",function(e,t){e!==t&&(n.tableState().search={},r.search(a[0].value||"",e))}),t.$watch(function(){return n.tableState().search},function(e,c){var n=t.predicate||"$";e.predicateObject&&e.predicateObject[n]!==a[0].value&&(a[0].value=e.predicateObject[n]||"")},!0),a.bind("input",function(a){a=a.originalEvent||a,null!==i&&e.cancel(i),i=e(function(){r.search(a.target.value,t.predicate||""),i=null},u)})}}}]);